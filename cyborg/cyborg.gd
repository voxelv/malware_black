extends Control

var display_name = ""

func set_color(color):
	$base.modulate = color

func add_part(part):
	var prev_part = get_part(part.type)
	if prev_part != null:
		remove_part(prev_part.type)
	$parts.add_child(part)
	return prev_part

func remove_part(part_type):
	var part = get_part(part_type)
	$parts.remove_child(part)
	return part

func has_part(part_type):
	var part = get_part(part_type)
	return part != null

func get_part(part_type):
	var part = null
	for c in $parts.get_children():
		if c.type == part_type:
			part = c
			break
	return part

func get_software(part_type):
	var part = get_part(part_type)
	return part.software

func set_software(type, major, minor, rev):
	var s = get_software(type)
	s.set_version(major, minor, rev)

func get_software_str(part_type):
	var s = get_software(part_type)
	return s.get_str()